<% include header %>

<div class="container-fluid wrap">

  <div class="row">
    <div class="col-md-12">
     <h2>Show All Brick Sets</h2>
    </div>
  </div>

  <div class="row search">
    <div class="col-md-12" id="search_panel">
      <form action="/search" role='form' method='GET' id="search_form" >
        <span>Search Terms:</span>       
         <input class="form-control input-lg" id="inputsm" name="key" type="text" placeholder="Search By Theme...">
         <button type="submit" class="btn btn-info btn-lg search_btn ">Search</button>
          <div class="search_key_theme">
            List Of Theme:

            <% var themes=[];
            themeTag.forEach(function(elem){
               themes.push(elem.theme);
             }); %>
             <% var themesUniq = themes.filter(function(elem, pos) {
                return themes.indexOf(elem) == pos;
                 });  %>
             <% themesUniq.forEach(function(elem){%>
              <a href="#" class="themeKey"><%= elem %></a>
              <% }); %>
          </div>
          <div class="search_key_theme">
            List Of Year:

            <% var years=[];
            legoSets.forEach(function(elem){
               years.push(elem.year);
             }); %>
             <% var yearsUniq = years.filter(function(elem, pos) {
                return years.indexOf(elem) == pos;
                 });  %>
             <% yearsUniq.forEach(function(elem){%>
              <a href="#" >2016</a>
              <% }); %>                         
          </div>
       </form> 
    </div>
  </div>
 
  <div class="row page_navi">
    <div class="col-md-6">
      <div class="numpages"><%= resultNo %> results found, showing 1-<%= Math.ceil(resultNo/10)%> pages</div>
    </div>
    <div class="col-md-6">
      <ul class="pagination page_list">
         <% for (i=0;i<Math.ceil(resultNo/10);i+=1){%>
          <li><a href="/setsview/<%= i+1%>"><%= i+1 %></a></li>
         <% };%>
    </div>
  </div>

  <div class="search_content">
    <% legoSets.forEach(function(elem){ %>
      <a href="localhost:3000/singleset/<%= elem.id %>">
        <div class="row search_results">
          <div class="col-md-3 result_img" >
            <div class="sin_search_show">
              <img src="<%= elem.img_sm%>" class="sin_search_img img-circle"  width="200" height="165" >
            </div>
          </div>
           <div class="col-md-9 result_text" > 
              <div class="sin_search_content">

                <h3><%= elem.set_id+"--"+elem.descr %></h3> 
                <br>
                <h4>Theme:&nbsp<%= elem.theme %></h4>
                <br>
                <h4>Year:&nbsp<%= elem.year %></h4>
                <br>
                <p></p>
              </div>        
            </div>      
        </div>
     </a>
    <% }); %>
  </div>
   

    <div class="row page_navi">
      <div class="col-md-6">
        <div class="numpages"><%= resultNo %> results found, showing 1-<%= Math.ceil(resultNo/10)%> pages</div>
      </div>
      <div class="col-md-6">
        <ul class="pagination page_list">
           <% for (i=0;i<Math.ceil(resultNo/10);i+=1){%>
            <li><a href="/setsview/<%= i+1%>" ><%= i+1 %></a></li>
           <% };%>
      </div>
    </div>

</div>


<% include footer %>